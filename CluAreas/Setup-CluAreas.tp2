BACKUP ~weidu_external/CluAreas/backup~    // location to store files for uninstall purposes
SUPPORT ~(https://www.baldursgateworld.fr)~  // email address displayed if install fails
README ~CluAreas/readme.txt~

ALWAYS

	DEFINE_ACTION_FUNCTION autotra_workaround BEGIN
	COPY ~CluAreas/Languages/french~				~weidu_external/CluAreas/Languages/autotra/%LANGUAGE%~
	COPY ~CluAreas/Languages/%LANGUAGE%~				~weidu_external/CluAreas/Languages/autotra/%LANGUAGE%~
	END

	LAF autotra_workaround END
	
END

VERSION  ~2.0~

ASK_EVERY_COMPONENT

AUTO_TRA ~weidu_external/CluAreas/Languages/autotra/%LANGUAGE%~

LANGUAGE ~Francais~
         ~french~
         ~CluAreas/Languages/french/setup.tra~
         ~CluAreas/Languages/french/MapsFrIWDEE.tra~
         ~CluAreas/Languages/french/MapsFrEET.tra~
         ~CluAreas/Languages/french/MapsFrEETALL.tra~
         ~CluAreas/Languages/french/MapsFrBGEE.tra~
         ~CluAreas/Languages/french/MapsFrCleanSoD.tra~
         ~CluAreas/Languages/french/MapsFrSoD.tra~
         ~CluAreas/Languages/french/MapsFrBG2EE.tra~
         ~CluAreas/Languages/french/MapsFrMods.tra~
         ~CluAreas/Languages/french/InfinityUI.tra~
		 
LANGUAGE ~Simplified Chinese~
         ~schinese~
         ~CluAreas/Languages/schinese/setup.tra~
         ~CluAreas/Languages/schinese/MapsFrIWDEE.tra~
         ~CluAreas/Languages/schinese/MapsFrEET.tra~
         ~CluAreas/Languages/schinese/MapsFrEETALL.tra~
         ~CluAreas/Languages/schinese/MapsFrBGEE.tra~
         ~CluAreas/Languages/schinese/MapsFrCleanSoD.tra~
         ~CluAreas/Languages/schinese/MapsFrSoD.tra~
         ~CluAreas/Languages/schinese/MapsFrBG2EE.tra~
         ~CluAreas/Languages/schinese/MapsFrMods.tra~
         ~CluAreas/Languages/schinese/InfinityUI.tra~


	//////////////////////////////////////
	//////Add language for CheatsAreas....EE Only////
	//////////////////////////////////////

	
BEGIN @12 SUBCOMPONENT  @10
DESIGNATED 12
REQUIRE_PREDICATE GAME_IS ~BGEE BG2EE EET IWDEE~ @1
LABEL ~CluArea-Main~

ACTION_IF (GAME_IS ~EET~) BEGIN
    INCLUDE ~CluAreas/Lua/EET/MapsFrEET.tph~ // CheatsAreas pour EET
	PRINT ~CheatsAreas pour EET~
END
ELSE ACTION_IF (GAME_IS ~BGEE~ AND NOT GAME_INCLUDES ~sod~) BEGIN
    /* INCLUDE ~CluAreas/Lua/SoD/MapsFrCleanSoD.tph~  // CleanCheatsAreas pour BGEE
	PRINT ~Cleaned CheatsAreas pour BGEE~ */
    INCLUDE ~CluAreas/Lua/BGEE/MapsFrBGEE.tph~  // CheatsAreas pour BGEE
	PRINT ~CheatsAreas pour BGEE~
END
ELSE ACTION_IF (GAME_IS ~BGEE~ AND GAME_INCLUDES ~SoD~) BEGIN
    INCLUDE ~CluAreas/Lua/SoD/MapsFrCleanSoD.tph~  // CleanCheatsAreas pour SoD
	PRINT ~Cleaned CheatsAreas pour SoD~
    INCLUDE ~CluAreas/Lua/SoD/MapsFrSoD.tph~  // CheatsAreas pour SoD
	PRINT ~CheatsAreas pour SoD~
END
ELSE ACTION_IF (GAME_IS ~BG2EE~) BEGIN
    INCLUDE ~CluAreas/Lua/BG2EE/MapsFrBG2EE.tph~ // CheatsAreas pour BG2EE
	PRINT ~CheatsAreas pour BG2EE~
END
ELSE ACTION_IF (GAME_IS ~IWDEE~) BEGIN
    INCLUDE ~CluAreas/Lua/IWDEE/MapsFrIWDEE.tph~ // CheatsAreas pour BG2EE
	PRINT ~CheatsAreas pour IWDEE~
END

BEGIN @13 SUBCOMPONENT  @10
DESIGNATED 13
LABEL ~CluArea-All~
REQUIRE_PREDICATE GAME_IS ~BGEE BG2EE EET IWDEE~ @1
// REQUIRE_PREDICATE NOT MOD_IS_INSTALLED ~INFINITY_UI.TP2~ ~0~ ~Infinity UI incompatibility~ 

ACTION_IF (GAME_IS ~EET~) BEGIN
			ACTION_IF (MOD_IS_INSTALLED ~infinity_ui.tp2~ 0) BEGIN
				COPY_EXISTING ~CluAreas/Lua/EET/MapsFrEETALL.tph~ ~weidu_external/CluAreas/Lua/MapsFrEETALL.tph~
					REPLACE_TEXTUALLY ~REPLACE_CLUAEET~ ~100~
					REPLACE_TEXTUALLY ~REPLACE_CLUASoD~ ~101~
					REPLACE_TEXTUALLY ~REPLACE_CLUASoA~ ~102~
					REPLACE_TEXTUALLY ~REPLACE_CLUAToB~ ~103~
			END ELSE BEGIN
				COPY_EXISTING ~CluAreas/Lua/EET/MapsFrEETALL.tph~ ~weidu_external/CluAreas/Lua/MapsFrEETALL.tph~
					REPLACE_TEXTUALLY ~REPLACE_CLUAEET~ ~2001~
					REPLACE_TEXTUALLY ~REPLACE_CLUASoD~ ~2493~
					REPLACE_TEXTUALLY ~REPLACE_CLUASoA~ ~2566~
					REPLACE_TEXTUALLY ~REPLACE_CLUAToB~ ~2919~
			END
    INCLUDE ~weidu_external/CluAreas/Lua/MapsFrEETALL.tph~ // CheatsAreas pour EET
	PRINT ~CheatsAreas pour EET ALL~
END
ELSE ACTION_IF (GAME_IS ~BGEE~ AND NOT GAME_INCLUDES ~sod~) BEGIN
    /* INCLUDE ~CluAreas/Lua/SoD/MapsFrCleanSoD.tph~  // CleanCheatsAreas pour BGEE
	PRINT ~Cleaned CheatsAreas pour BGEE~ */
			ACTION_IF (MOD_IS_INSTALLED ~infinity_ui.tp2~ 0) BEGIN
				COPY_EXISTING ~CluAreas/Lua/BGEE/MapsFrBGEEALL.tph~ ~weidu_external/CluAreas/Lua/MapsFrBGEEALL.tph~
					REPLACE_TEXTUALLY ~REPLACE_CLUABG~ ~104~
			END ELSE BEGIN
				COPY_EXISTING ~CluAreas/Lua/BGEE/MapsFrBGEEALL.tph~ ~weidu_external/CluAreas/Lua/MapsFrBGEEALL.tph~
					REPLACE_TEXTUALLY ~REPLACE_CLUABG~ ~998~
			END
    INCLUDE ~weidu_external/CluAreas/Lua/MapsFrBGEEALL.tph~  // CheatsAreas pour BGEE
	PRINT ~CheatsAreas pour BGEE ALL~
END
ELSE ACTION_IF (GAME_IS ~BGEE~ AND GAME_INCLUDES ~SoD~) BEGIN
			ACTION_IF (MOD_IS_INSTALLED ~infinity_ui.tp2~ 0) BEGIN
				COPY_EXISTING ~CluAreas/Lua/SoD/MapsFrSoDALL.tph~ ~weidu_external/CluAreas/Lua/MapsFrSoDALL.tph~
					REPLACE_TEXTUALLY ~REPLACE_CLUABG~ ~104~
					REPLACE_TEXTUALLY ~REPLACE_CLUASoD~ ~101~
			END ELSE BEGIN
				COPY_EXISTING ~CluAreas/Lua/SoD/MapsFrSoDALL.tph~ ~weidu_external/CluAreas/Lua/MapsFrSoDALL.tph~
					REPLACE_TEXTUALLY ~REPLACE_CLUABG~ ~998~
					REPLACE_TEXTUALLY ~REPLACE_CLUASoD~ ~2493~
			END
    INCLUDE ~CluAreas/Lua/SoD/MapsFrCleanSoD.tph~  // CleanCheatsAreas pour SoD
	PRINT ~Cleaned CheatsAreas pour SoD~
    INCLUDE ~weidu_external/CluAreas/Lua/MapsFrSoDALL.tph~  // CheatsAreas pour SoD
	PRINT ~CheatsAreas pour SoD ALL~
END
ELSE ACTION_IF (GAME_IS ~BG2EE~) BEGIN
			ACTION_IF (MOD_IS_INSTALLED ~infinity_ui.tp2~ 0) BEGIN
				COPY_EXISTING ~CluAreas/Lua/BG2EE/MapsFrBG2EEALL.tph~ ~weidu_external/CluAreas/Lua/MapsFrBG2EEALL.tph~
					REPLACE_TEXTUALLY ~REPLACE_CLUASoA~ ~102~
					REPLACE_TEXTUALLY ~REPLACE_CLUAToB~ ~103~
			END ELSE BEGIN
				COPY_EXISTING ~CluAreas/Lua/BG2EE/MapsFrBG2EEALL.tph~ ~weidu_external/CluAreas/Lua/MapsFrBG2EEALL.tph~
					REPLACE_TEXTUALLY ~REPLACE_CLUASoA~ ~2566~
					REPLACE_TEXTUALLY ~REPLACE_CLUAToB~ ~2919~
			END
    INCLUDE ~weidu_external/CluAreas/Lua/MapsFrBG2EEALL.tph~ // CheatsAreas pour BG2EE
	PRINT ~CheatsAreas pour BG2EE ALL~
END
ELSE ACTION_IF (GAME_IS ~IWDEE~) BEGIN
			ACTION_IF (MOD_IS_INSTALLED ~infinity_ui.tp2~ 0) BEGIN
				COPY_EXISTING ~CluAreas/Lua/IWDEE/MapsFrIWDEEALL.tph~ ~weidu_external/CluAreas/Lua/MapsFrIWDEEALL.tph~
					REPLACE_TEXTUALLY ~REPLACE_CLUAIWD~ ~105~
					REPLACE_TEXTUALLY ~REPLACE_CLUAHoW~ ~106~
					REPLACE_TEXTUALLY ~REPLACE_CLUATotL~ ~107~
			END ELSE BEGIN
				COPY_EXISTING ~CluAreas/Lua/IWDEE/MapsFrIWDEEALL.tph~ ~weidu_external/CluAreas/Lua/MapsFrIWDEEALL.tph~
					REPLACE_TEXTUALLY ~REPLACE_CLUAIWD~ ~3307~
					REPLACE_TEXTUALLY ~REPLACE_CLUAHoW~ ~3308~
					REPLACE_TEXTUALLY ~REPLACE_CLUATotL~ ~3309~
			END
    INCLUDE ~weidu_external/CluAreas/Lua/MapsFrIWDEEALL.tph~ // CheatsAreas pour BG2EE
	PRINT ~CheatsAreas pour IWDEE ALL~
END


// Infinity UI compatibility

ACTION_IF (GAME_IS ~EET~ AND MOD_IS_INSTALLED ~infinity_ui.tp2~ 0) BEGIN
	
    COPY_EXISTING ~UI.MENU~ ~override~
        REPLACE_TEXTUALLY ~"BD0010"~ ~"CLUASoD"~
        REPLACE_TEXTUALLY ~"BG0002"~ ~"CLUAEET"~
    BUT_ONLY IF_EXISTS
  END
  
ACTION_IF (GAME_IS ~BGEE~ AND NOT GAME_INCLUDES ~sod~ AND MOD_IS_INSTALLED ~infinity_ui.tp2~ 0) BEGIN
	
    COPY_EXISTING ~UI.MENU~ ~override~
        REPLACE_TEXTUALLY ~"AR0002"~ ~"CLUABG"~
    BUT_ONLY IF_EXISTS
  END
  
ACTION_IF (GAME_IS ~BGEE~ AND GAME_INCLUDES ~SoD~ AND MOD_IS_INSTALLED ~infinity_ui.tp2~ 0) BEGIN
	
    COPY_EXISTING ~UI.MENU~ ~override~
        REPLACE_TEXTUALLY ~"BD0010"~ ~"CLUASoD"~
    BUT_ONLY IF_EXISTS
  END
  
ACTION_IF (GAME_IS ~BG2EE~ AND MOD_IS_INSTALLED ~infinity_ui.tp2~ 0) BEGIN
	
    COPY_EXISTING ~UI.MENU~ ~override~
        REPLACE_TEXTUALLY ~"AR0011"~ ~"CLUASoA"~
    BUT_ONLY IF_EXISTS
  END
  
ACTION_IF (GAME_IS ~IWDEE~ AND MOD_IS_INSTALLED ~infinity_ui.tp2~ 0) BEGIN
	
    COPY_EXISTING ~UI.MENU~ ~override~
        REPLACE_TEXTUALLY ~"AR1000"~ ~"CLUAIWD"~
    BUT_ONLY IF_EXISTS
  END
  

BEGIN @11   // CheatsAreas pour les mods
DESIGNATED 11
LABEL ~CluArea-Mods~
REQUIRE_PREDICATE (MOD_IS_INSTALLED ~CluAreas.tp2~ ~12~ OR MOD_IS_INSTALLED ~CluAreas.tp2~ ~13~) ~Necessite main component~

  ACTION_IF (MOD_IS_INSTALLED ~SETUP-CTB.TP2~ ~0~) BEGIN
  INCLUDE ~CluAreas/Lua/Mods/Checkthebodies.tph~ // CheatsAreas pour Check the bodies
	PRINT ~CheatsAreas pour Check the bodies
	~
END

  ACTION_IF (MOD_IS_INSTALLED ~SETUP-CTB.TP2~ ~1~) BEGIN
  INCLUDE ~CluAreas/Lua/Mods/CandlekeepChores.tph~ // CheatsAreas pour Check the bodies Candlekeep chores
	PRINT ~CheatsAreas pour Candlekeep Chores
	~
END

  ACTION_IF (MOD_IS_INSTALLED ~A7-TotLM-BG2EE~ ~0~) BEGIN
  INCLUDE ~CluAreas/Lua/Mods/TrialsoftheLuremaster.tph~ // CheatsAreas pour Trials of the Luremaster
	PRINT ~CheatsAreas pour Trials of the Luremaster
	~
END

  ACTION_IF (MOD_IS_INSTALLED ~A7-TESTYOURMETTLE.TP2~ ~0~) BEGIN
  INCLUDE ~CluAreas/Lua/Mods/TestYourMettle.tph~ // CheatsAreas pour Test Your Mettle
	PRINT ~CheatsAreas pour Test Your Mettle
	~
END

  ACTION_IF (MOD_IS_INSTALLED ~SETUP-IWD1_EET.TP2~ ~1~) BEGIN
  INCLUDE ~CluAreas/Lua/Mods/IWD1_EET.tph~ // CheatsAreas pour IWD1_EET
	PRINT ~CheatsAreas pour IWD1_EET
	~
END

  ACTION_IF (MOD_IS_INSTALLED ~SETUP-IWD2_EET.TP2~ ~0~) BEGIN
  INCLUDE ~CluAreas/Lua/Mods/IWD2_EET.tph~ // CheatsAreas pour IWD2_EET
	PRINT ~CheatsAreas pour IWD2_EET
	~
END

  
